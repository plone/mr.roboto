<html>
    <head>
        <title>Mr. Roboto</title>
        <link href='http://fonts.googleapis.com/css?family=Raleway:400,700' rel='stylesheet' type='text/css'/>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-combined.min.css" rel="stylesheet"/>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/js/bootstrap.min.js"></script>

        <style>
            body {
                background-color: rgb(0,149,211);
                font-family: 'Raleway', sans-serif;
            }
            h2 {

            }
            a, a:visited, a:link {
                color: white;
            }
            ul {
                list-style-type: none
            }
            #messages {
                padding-left: 40px;
            }
        </style>
    </head>
    <body>
        <div id="options">
            <ul>
                <li tal:repeat="push pushs">
                    <span>
                        Push by
                        <em tal:content="python:push['who']"></em>
                        at repository:
                        <em tal:content="python:push['repo']"></em>
                        branch:
                        <em tal:content="python:push['branch']"></em>
                        at time:
                        <em tal:content="python:push['date']"></em>
                        which changeset:
                        <a href="" 
                           tal:content="python:push['internal_identifier']"
                           tal:attributes="href string:get_info?push=${push['internal_identifier']}">
                       </a>
                    </span>
                    <ul>
                        <li tal:repeat="job python:push['jobs']">
                            <tal:passes condition="python: job['result']==None">
                                <p style="background-color:yellow; display: inline-block;">No result</p>
                            </tal:passes>
                            <tal:passes condition="python: job['result'] is True">
                                <p style="background-color:green; display: inline-block;">Success</p>
                            </tal:passes>
                            <tal:passes condition="python: job['result'] is False">
                                <p style="background-color:red; display: inline-block;">Failure</p>
                            </tal:passes>
                            <p>
                                Jenkins job [<span tal:replace="python: job['type']"></span>]: 
                                <a tal:attributes="href python: job['jk_url']">
                                    <span tal:content="python: job['jk_name']"></span>
                                </a>
                            </p>
                        </li>
                    </ul>
                    <ul id="messages">
                        <li tal:repeat="data python:push['data']">
                            <span tal:replace="data['short_commit_msg']"></span>
                        </li>
                    </ul>

                </li>
            </ul>
        </div>
    </body>
</html>